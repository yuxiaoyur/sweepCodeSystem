webpackJsonp([69],{KJtm:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});a("E4LH");var e={data:function(){return{visible:!1,dataForm:{id:0,sj:"",bmmc:"",jrxts:"",jrsjls:"",jrsjl:"",url:""},dataRule:{bmmc:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],jrxts:[{required:!0,message:"接入系统数不能为空",trigger:"blur"},{type:"string",pattern:/^(0|[1-9]\d{0,8})$/,message:"展示高度，输入为数字类型，且数字长度≤9",trigger:"blur"}],jrsjls:[{required:!0,message:"接入数据类数不能为空",trigger:"blur"},{type:"string",pattern:/^(0|[1-9]\d{0,8})$/,message:"展示高度，输入为数字类型，且数字长度≤9",trigger:"blur"}],jrsjl:[{required:!0,message:"接入数据量不能为空",trigger:"blur"},{type:"string",pattern:/^(0|[1-9]\d{0,8})$/,message:"展示接入数据量，输入为数字类型，且数字长度≤9",trigger:"blur"}]}}},methods:{init:function(t){var r=this;console.log(t),this.visible=!0,this.$nextTick(function(){r.$refs.dataForm.resetFields(),r.dataForm.id=t,r.dataForm.id&&r.$http({url:r.$http.adornUrl("/dockingDepartment/info?id="+r.dataForm.id),method:"get"}).then(function(t){var a=t.data;a&&a.successful?(r.dataForm.sj=a.data.sj,r.dataForm.bmmc=a.data.bmmc,r.dataForm.jrxts=a.data.jrxts,r.dataForm.jrsjls=a.data.jrsjls,r.dataForm.jrsjl=a.data.jrsjl,r.dataForm.url=a.data.url):(console.log("ERROR",a),r.$message.error("操作失败"))})})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(r){r&&t.$http({url:t.$http.adornUrl("/dockingDepartment/"+(t.dataForm.id?"update":"save")),method:"post",params:t.$http.adornParams({id:t.dataForm.id||void 0,sj:t.dataForm.sj,bmmc:t.dataForm.bmmc,jrxts:t.dataForm.jrxts,jrsjls:t.dataForm.jrsjls,jrsjl:t.dataForm.jrsjl,url:t.dataForm.url})}).then(function(r){var a=r.data;a&&a.successful?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):(console.log(t.dataForm),t.$message.error(a.message))})})}}},s={render:function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(r){t.visible=r}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"部门名称",prop:"bmmc"}},[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:t.dataForm.bmmc,callback:function(r){t.$set(t.dataForm,"bmmc",r)},expression:"dataForm.bmmc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"接入系统数",prop:"jrxts"}},[a("el-input",{attrs:{placeholder:"接入系统数，长度不超过11位"},model:{value:t.dataForm.jrxts,callback:function(r){t.$set(t.dataForm,"jrxts",r)},expression:"dataForm.jrxts"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"接入数据类数",prop:"jrsjls"}},[a("el-input",{attrs:{placeholder:"接入系统数，长度不超过11位"},model:{value:t.dataForm.jrsjls,callback:function(r){t.$set(t.dataForm,"jrsjls",r)},expression:"dataForm.jrsjls"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"接入数据量",prop:"jrsjl"}},[a("el-input",{attrs:{placeholder:"接入系统数，长度不超过11位"},model:{value:t.dataForm.jrsjl,callback:function(r){t.$set(t.dataForm,"jrsjl",r)},expression:"dataForm.jrsjl"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(r){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(r){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},l=a("46Yf")(e,s,!1,null,null,null);r.default=l.exports}});