webpackJsonp([80],{t1lc:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={data:function(){return{visible:!1,dataForm:{id:"",dataType:"",departmetn:"",accessMethod:"",usingStatus:""},rules:{dataType:[{required:!0,message:"请输入数据类名称",trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}],department:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:2,max:66,message:"长度在 2 到 66 个字符",trigger:"blur"}],accessMethod:[{required:!0,message:"请选择接入方式",trigger:"change"}],usingStatus:[{required:!0,message:"请选择使用状态",trigger:"change"}]}}},methods:{initializing:function(t,a){var e=this;this.visible=!0,this.$nextTick(function(){if(e.$refs.dataForm.resetFields(),"number"==typeof t)e.$http({url:e.$http.adornUrl("/data_exchange_ledger/detail"),method:"get",params:e.$http.adornParams({id:t})}).then(function(t){var a=t.data;a&&a.successful?e.dataForm=a.data:(console.log("ERROR",a),e.$message.error("操作失败"))});else for(var r in console.log("难道在这里？"),e.dataForm)e.dataForm[r]="";e.dataForm.type=a})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(a){if(console.log(t.dataForm.dataType),console.log(t.dataForm.department),console.log(t.dataForm.accessMethod),console.log(t.dataForm.usingStatus),!a)return!1;t.$http({url:t.$http.adornUrl("/data_exchange_ledger/"+("add"===t.dataForm.type?"insert":"update")),method:"post",data:t.$http.adornData({id:t.dataForm.id||void 0,dataType:t.dataForm.dataType,department:t.dataForm.department,accessMethod:t.dataForm.accessMethod,usingStatus:t.dataForm.usingStatus})}).then(function(a){var e=a.data;e.successful?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):(console.log("ERROR",e),t.$message.error("操作失败"))})})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-dialog",{attrs:{title:"add"===t.dataForm.type?"新增":"修改","modal-append-to-body":!1,"close-on-click-modal":!1,visible:t.visible,width:"60%"},on:{"update:visible":function(a){t.visible=a}}},[e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,"label-width":"15%",rules:t.rules}},[e("el-form-item",{attrs:{label:"数据类",prop:"dataType"}},[e("el-input",{model:{value:t.dataForm.dataType,callback:function(a){t.$set(t.dataForm,"dataType",a)},expression:"dataForm.dataType"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"部门",prop:"department"}},[e("el-input",{model:{value:t.dataForm.department,callback:function(a){t.$set(t.dataForm,"department",a)},expression:"dataForm.department"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"接入方式",prop:"accessMethod"}},[e("el-radio-group",{model:{value:t.dataForm.accessMethod,callback:function(a){t.$set(t.dataForm,"accessMethod",a)},expression:"dataForm.accessMethod"}},[e("el-radio",{attrs:{label:"库表"}},[t._v("库表")]),t._v(" "),e("el-radio",{attrs:{label:"文件"}},[t._v("文件")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"使用状态",prop:"usingStatus"}},[e("el-radio-group",{model:{value:t.dataForm.usingStatus,callback:function(a){t.$set(t.dataForm,"usingStatus",a)},expression:"dataForm.usingStatus"}},[e("el-radio",{attrs:{label:"已使用"}},[t._v("已使用")]),t._v(" "),e("el-radio",{attrs:{label:"未使用"}},[t._v("未使用")]),t._v(" "),e("el-radio",{attrs:{label:"淘汰"}},[t._v("淘汰")])],1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.visible=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dataFormSubmit()}}},[t._v("保存")])],1)],1)},staticRenderFns:[]},s=e("46Yf")(r,o,!1,null,null,null);a.default=s.exports}});